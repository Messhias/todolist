{"ast":null,"code":"import Request from \"../../utils/Request\";\nimport { filterError, storeUserToken } from \"../../utils/Helpers\";\nexport const login = (data = {}) => dispatch => {\n  if (data) {\n    Request.post(\"/users/login\", data).then(response => {\n      storeUserToken(response.data);\n      window.location.href = \"main-page\";\n    }).catch(error => filterError(error));\n  }\n};\nexport const logout = () => dispatch => Request.post(\"/users/logout\").then(() => window.location.href = \"login\").catch(error => filterError(error));\n/**\n * @param data\n * @returns {(function(*): void)|*}\n */\n\nexport const create = data => dispatch => {\n  if (data) {\n    Request.post(\"/users\", data).then(response => {\n      if (response.data) {\n        sessionStorage.clear();\n        localStorage.clear();\n        window.location.href = \"login\";\n      }\n    }).catch(error => filterError(error));\n  }\n};","map":{"version":3,"sources":["/Users/collegia/Documents/projects/todolist/frontend/src/actions/Users/index.js"],"names":["Request","filterError","storeUserToken","login","data","dispatch","post","then","response","window","location","href","catch","error","logout","create","sessionStorage","clear","localStorage"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,qBAApB;AACA,SAAQC,WAAR,EAAqBC,cAArB,QAA0C,qBAA1C;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,IAAI,GAAG,EAAR,KAAeC,QAAQ,IAAI;AAC/C,MAAID,IAAJ,EAAU;AACTJ,IAAAA,OAAO,CAACM,IAAR,CAAa,cAAb,EAA6BF,IAA7B,EACEG,IADF,CACOC,QAAQ,IAAI;AACjBN,MAAAA,cAAc,CAACM,QAAQ,CAACJ,IAAV,CAAd;AACAK,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,WAAvB;AACA,KAJF,EAKEC,KALF,CAKQC,KAAK,IAAIZ,WAAW,CAACY,KAAD,CAL5B;AAMA;AACD,CATM;AAWP,OAAO,MAAMC,MAAM,GAAG,MAAMT,QAAQ,IACnCL,OAAO,CAACM,IAAR,CAAa,eAAb,EACEC,IADF,CACO,MAAME,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OADpC,EAEEC,KAFF,CAEQC,KAAK,IAAIZ,WAAW,CAACY,KAAD,CAF5B,CADM;AAMP;AACA;AACA;AACA;;AACA,OAAO,MAAME,MAAM,GAAIX,IAAD,IAAUC,QAAQ,IAAI;AAC3C,MAAID,IAAJ,EAAU;AACTJ,IAAAA,OAAO,CAACM,IAAR,CAAa,QAAb,EAAuBF,IAAvB,EACEG,IADF,CACQC,QAAD,IAAc;AACnB,UAAIA,QAAQ,CAACJ,IAAb,EAAmB;AAClBY,QAAAA,cAAc,CAACC,KAAf;AACAC,QAAAA,YAAY,CAACD,KAAb;AACAR,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACA;AACD,KAPF,EAQEC,KARF,CAQQC,KAAK,IAAIZ,WAAW,CAACY,KAAD,CAR5B;AASA;AACD,CAZM","sourcesContent":["import Request from \"../../utils/Request\";\nimport {filterError, storeUserToken} from \"../../utils/Helpers\";\n\nexport const login = (data = {}) => dispatch => {\n\tif (data) {\n\t\tRequest.post(\"/users/login\", data)\n\t\t\t.then(response => {\n\t\t\t\tstoreUserToken(response.data);\n\t\t\t\twindow.location.href = \"main-page\";\n\t\t\t})\n\t\t\t.catch(error => filterError(error));\n\t}\n}\n\nexport const logout = () => dispatch => (\n\tRequest.post(\"/users/logout\")\n\t\t.then(() => window.location.href = \"login\")\n\t\t.catch(error => filterError(error))\n);\n\n/**\n * @param data\n * @returns {(function(*): void)|*}\n */\nexport const create = (data) => dispatch => {\n\tif (data) {\n\t\tRequest.post(\"/users\", data)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data) {\n\t\t\t\t\tsessionStorage.clear();\n\t\t\t\t\tlocalStorage.clear();\n\t\t\t\t\twindow.location.href = \"login\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => filterError(error));\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}